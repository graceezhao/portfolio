:root {
  --ikebana-stem-color: #5c6b4a;
  --ikebana-grass-color: #7d8b6a;
  --ikebana-reveal-duration: 3s;
  --ikebana-sway-duration: 8s;
}

.ikebana-container {
  position: absolute;
  top: 50%;
  right: 2%;
  transform: translateY(-50%);
  width: 45%;
  height: 90%;
  z-index: 0;
  pointer-events: none;
  opacity: 0;
  transition: opacity 2.5s ease-in-out;
  display: flex;
  justify-content: center;
  align-items: center;
}

.ikebana-container.is-visible {
  opacity: 1;
}

.ikebana-svg {
  width: 100%;
  height: 100%;
  max-width: 600px;
  overflow: visible;
}

/* Stems and Grass Loops */
.ikebana-stem {
  fill: none;
  stroke: var(--ikebana-stem-color);
  stroke-width: 1.2;
  stroke-linecap: round;
  stroke-dasharray: 1200;
  stroke-dashoffset: 1200;
  transition: stroke-dashoffset var(--ikebana-reveal-duration) cubic-bezier(0.445, 0.05, 0.55, 0.95);
}

.grass-loop {
  stroke: var(--ikebana-grass-color);
  stroke-width: 0.8;
  opacity: 0.6;
}

.is-visible .ikebana-stem {
  stroke-dashoffset: 0;
}

/* Flowers (Anthuriums) */
.ikebana-flower {
  opacity: 0;
  transform: scale(0.8) translateY(10px);
  transform-origin: center;
  transition: opacity 2s ease-out, transform 2s cubic-bezier(0.23, 1, 0.32, 1);
}

.is-visible .ikebana-flower {
  opacity: 0.85;
  transform: scale(1) translateY(0);
}

/* Base Leaves */
.ikebana-leaf {
  opacity: 0;
  transform: scale(0.9);
  transform-origin: center;
  transition: opacity 2.5s ease-out, transform 2.5s cubic-bezier(0.23, 1, 0.32, 1);
}

.is-visible .ikebana-leaf {
  opacity: 0.7;
  transform: scale(1);
}

/* Spadix (Inner stem of flower) */
.ikebana-spadix {
  fill: none;
  stroke-width: 2;
  stroke-linecap: round;
  opacity: 0;
  transition: opacity 2s ease-out;
}

.is-visible .ikebana-spadix {
  opacity: 0.9;
}

/* Delays for organic reveal */
.delay-1 { transition-delay: 0.1s; }
.delay-2 { transition-delay: 0.4s; }
.delay-3 { transition-delay: 0.7s; }
.delay-4 { transition-delay: 1.2s; }
.delay-5 { transition-delay: 1.6s; }

/* Meditative Swaying Motion */
@keyframes ikebana-sway-premium {
  0%, 100% { transform: rotate(0deg) translate(0, 0); }
  33% { transform: rotate(0.8deg) translate(2px, -1px); }
  66% { transform: rotate(-0.5deg) translate(-1px, 1px); }
}

.ikebana-sway-group {
  animation: ikebana-sway-premium var(--ikebana-sway-duration) ease-in-out infinite;
  transform-origin: 250px 550px; /* Base of the arrangement */
}

.ikebana-sway-group:nth-child(even) {
  animation-duration: 10s;
  animation-delay: -2s;
}

.ikebana-sway-group:nth-child(odd) {
  animation-duration: 12s;
  animation-delay: -5s;
}

/* Interaction Groups */
.ikebana-interaction-group {
  transition: transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
}

@media only screen and (max-width: 56.25em) {
  .ikebana-container {
    width: 55%;
    right: -5%;
    opacity: 0.3;
  }
}

@media only screen and (max-width: 37.5em) {
  .ikebana-container {
    width: 100%;
    right: 0;
    top: 65%;
    height: 45%;
    opacity: 0.25;
  }
}
